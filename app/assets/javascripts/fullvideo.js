(function(a){a.fn.videobackground=function(b){settings=b?a.extend({},a.fn.videobackground.defaults,b):a.fn.videobackground.defaults;if(document.createElement("video").canPlayType)return this.each(function(){self=a(this);a.fn.videobackground.methods.create()});settings.poster&&(b=a('<img src="'+settings.poster+'">'),a(self).append(b))};a.fn.videobackground.defaults={videoSource:[],poster:null,autoplay:!0,preload:"none",loop:!1,controlPosition:null,controlText:["Play","Pause","Mute","Unmute"],resize:!0,
preloadHtml:"",preloadCallback:null,loadedCallback:null};a.fn.videobackground.methods={create:function(){settings.resize&&a.fn.videobackground.methods.resizeVideo();for(var b="",c=0,d=0,c=0,d=settings.videoSource.length;c<d;c++)b=b+'<source src="'+settings.videoSource[c]+'">';c='preload="'+settings.preload+'"';settings.poster&&(c=c+' poster="'+settings.poster+'"');settings.autoplay&&(c+=' autoplay="autoplay"');settings.loop&&(c+=' loop="loop"');a(self).html("<video "+c+">"+b+"</video>");controlbox=
a('<div class="ui-video-background ui-widget ui-widget-content ui-corner-all"></div>');settings.controlPosition?a(settings.controlPosition).append(controlbox):a(self).append(controlbox);controls=a('<ul class="ui-video-background-controls"><li class="ui-video-background-play"><a class="ui-icon ui-icon-pause" href="#">'+settings.controlText[1]+"</a></li></ul>");(settings.preloadHtml||settings.preloadCallback)&&a.fn.videobackground.methods.preload();a("video",self).bind("canplaythrough",function(){settings.autoplay&&
a("video",self).get(0).play();a.fn.videobackground.methods.loaded()})},preload:function(){a(controlbox).append(settings.preloadHtml);settings.preloadCallback&&settings.preloadCallback.call(this)},loaded:function(){a(controlbox).html(controls);a.fn.videobackground.methods.loadedEvents();settings.loadedCallback&&settings.loadedCallback.call(this)},resizeVideo:function(){var b=a(document).height(),c=a(window).height();c>=b?a(self).css("height",c):b>c&&a(self).css("height",b)},loadedEvents:function(){settings.resize&&
a(window).resize(function(){a.fn.videobackground.methods.resizeVideo()});a(".ui-video-background-play a",controls).click(function(b){b.preventDefault();a("video",self).get(0).paused?(a("video",self).get(0).play(),a(this).toggleClass("ui-icon-pause ui-icon-play"),a(this).text(settings.controlText[1])):a("video",self).get(0).ended?(a("video",self).get(0).play(),a(this).toggleClass("ui-icon-pause ui-icon-play"),a(this).text(settings.controlText[1])):(a("video",self).get(0).pause(),a(this).toggleClass("ui-icon-pause ui-icon-play"),
a(this).text(settings.controlText[0]))});a(".ui-video-background-mute a",controls).click(function(b){b.preventDefault();a("video",self).attr("muted")?(a("video",self).attr("muted",!1),a("video",self).get(0).volume=1,a(this).toggleClass("ui-icon-volume-on ui-icon-volume-off"),a(this).text(settings.controlText[2])):(a("video",self).attr("muted",!0),a("video",self).get(0).volume=0,a(this).toggleClass("ui-icon-volume-on ui-icon-volume-off"),a(this).text(settings.controlText[3]))});settings.loop&&a("video",
self).bind("ended",function(){a("video",self).get(0).play();a(this).toggleClass("paused");a(this).text(settings.controlText[1])})},destroy:function(){}}})(jQuery);

$(document).ready(function(){	
	$('.video-background').videobackground({
		videoSource: ['video/Composition 1_1.webm', '/assets/movie.ogg', 'video/Composition 1_1.m4v'], 
		controlPosition: 'false',
		poster: 'video/Composition 1_1.jpg',
		loop: 'true',
		preload:'true'
	});
});